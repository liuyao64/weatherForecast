{"version":3,"sources":["webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/main.js","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?65e0","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?ecab","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?4e6c","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?0033","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?2b5d","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue?b207","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/utils.wxs?9d85","webpack:////Users/liuyao/other/微信小程序:Vue/weatherReport/utils.wxs"],"names":["createPage","Page","app","getApp","data","lngLat","weatherInfo","airInfo","hourlyArr","forecastArr","lifestyleArr","onShow","console","log","globalData","key","uni","showLoading","title","getStorageSync","getNowWeather","getNowAirQuality","getHourlyWeather","getForecastWeather","getLifestyle","getLocationWx","login","methods","wx","cloud","callFunction","name","then","res","setStorageSync","result","iconFilter","icon","that","authorize","scope","success","getLocation","type","lng","longitude","lat","latitude","getLocationH5","url","request","HeWeather6","basic","location","hideLoading","hourly","daily_forecast","lifestyle","changeCity","navigateTo","showModal","txt","content","showCancel","confirmText","confirmColor","subscribeMsg","tmplId","requestSubscribeMessage","tmplIds","cloudSendMsg","modal","confirm","openSetting","withSubscriptions","fail","err","errCode","getDate","timestamp","date","Date","year","getFullYear","month","getMonth","day","todayW","tip","fl","now","comf","flu","forEach","item","brf","getTime","cond_txt","tmp","tmp_min","tmp_max","catch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgT;AAChT;AACyD;AACL;AACa;;;AAGjE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,8QAAM;AACR,EAAE,uRAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kRAAU;AACZ;AACA;;AAEA;AAC0O;AAC1O,WAAW,uPAAM,iBAAiB,+PAAM;;AAExC;AACe,gF;;;;;;;;;;;AC3Bf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;mICAv1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,GAAG,GAAGC,MAAM,EAAlB,C;AACe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,YAAM,EAAE,EADF;AAENC,iBAAW,EAAE,EAFP;AAGNC,aAAO,EAAE,EAHH;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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=e1547e54&filter-modules=eyJ1dGlscyI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0IjozNDU4LCJhdHRycyI6eyJtb2R1bGUiOiJ1dGlscyIsImxhbmciOiJ3eHMiLCJzcmMiOiIuLi8uLi91dGlscy53eHMifSwiZW5kIjozNDU4fX0%3D&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../utils.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fliuyao%2Fother%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%3AVue%2FweatherReport%2Fpages%2Findex%2Findex.vue&module=utils&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"Users/liuyao/other/微信小程序:Vue/weatherReport/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=e1547e54&filter-modules=eyJ1dGlscyI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0IjozNDU4LCJhdHRycyI6eyJtb2R1bGUiOiJ1dGlscyIsImxhbmciOiJ3eHMiLCJzcmMiOiIuLi8uLi91dGlscy53eHMifSwiZW5kIjozNDU4fX0%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = JSON.stringify(_vm.weatherInfo)\n\n  var l0 = _vm.__map(_vm.hourlyArr, function(item, __i0__) {\n    var g1 = item.time.substr(11, 5)\n    return {\n      $orig: _vm.__get_orig(item),\n      g1: g1\n    }\n  })\n\n  var l1 = _vm.__map(_vm.forecastArr, function(item, __i1__) {\n    var g2 = item.date.substr(5, 5)\n    return {\n      $orig: _vm.__get_orig(item),\n      g2: g2\n    }\n  })\n\n  var g3 = JSON.stringify(_vm.weatherInfo)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        l1: l1,\n        g3: g3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst app = getApp();\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tlngLat: '',\n\t\t\tweatherInfo: {},\n\t\t\tairInfo: {},\n\t\t\thourlyArr: [],\n\t\t\tforecastArr: [],\n\t\t\tlifestyleArr: [],\n\t\t}\n\t},\n\tonShow() {\n\t\tconsole.log('key:', app.globalData.key)\n\t\tuni.showLoading({\n\t\t\ttitle: '努力加载中…',\n\t\t})\n\t\tif (uni.getStorageSync('lngLat')) {\n\t\t\tthis.lngLat = uni.getStorageSync('lngLat')\n\t\t\tthis.getNowWeather();\n\t\t\tthis.getNowAirQuality();\n\t\t\tthis.getHourlyWeather();\n\t\t\tthis.getForecastWeather();\n\t\t\tthis.getLifestyle();\n\t\t} else {\n\n\t\t\tthis.getLocationWx();\n\t\t\tthis.login();\n\n\n\n\n\n\t\t}\n\t},\n\tmethods: {\n\t\tlogin() {\n\t\t\twx.cloud.callFunction({\n\t\t\t\tname: 'login',\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log('login:', res)\n\t\t\t\tuni.setStorageSync('uid', res.result)\n\t\t\t})\n\t\t},\n\t\ticonFilter(data) {\n\t\t\tconsole.log(data)\n\t\t\tswitch (data) {\n\t\t\t\tcase '多云':\n\t\t\t\t\ticon = '../../static/images/weatherIcon/more-cloud.png';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tgetLocationWx() {\n\t\t\tlet that = this\n\t\t\t// console.log('getLocation Wx')\n\t\t\tuni.authorize({\n\t\t\t\tscope: 'scope.userLocation',\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.getLocation({\n\t\t\t\t\t\ttype: 'wgs84',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tconsole.log('当前位置：', res);\n\t\t\t\t\t\t\tlet lng = res.longitude\n\t\t\t\t\t\t\tlet lat = res.latitude\n\t\t\t\t\t\t\tthat.lngLat = lng + ',' + lat\n\t\t\t\t\t\t\tthat.getNowWeather();\n\t\t\t\t\t\t\tthat.getNowAirQuality();\n\t\t\t\t\t\t\tthat.getHourlyWeather();\n\t\t\t\t\t\t\tthat.getForecastWeather();\n\t\t\t\t\t\t\tthat.getLifestyle();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetLocationH5() {\n\t\t\tlet that = this\n\t\t\tconsole.log('getLocation H5')\n\t\t\tuni.getLocation({\n\t\t\t\ttype: 'wgs84',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('当前位置：', res);\n\t\t\t\t\tlet lng = res.longitude\n\t\t\t\t\tlet lat = res.latitude\n\t\t\t\t\tthat.getNowWeather();\n\t\t\t\t\tthat.getNowAirQuality();\n\t\t\t\t\tthat.getHourlyWeather();\n\t\t\t\t\tthat.getForecastWeather();\n\t\t\t\t\tthat.getLifestyle();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetNowWeather() {\n\t\t\tlet that = this\n\t\t\tlet url = 'https://free-api.heweather.net/s6/weather/now?location=' + this.lngLat + '&key=' + app.globalData.key\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.weatherInfo = res.data.HeWeather6[0]\n\n\t\t\t\t\tif (uni.getStorageSync('location')) {\n\t\t\t\t\t\tthat.weatherInfo.basic.location = uni.getStorageSync('location')\n\t\t\t\t\t}\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('weather:', that.weatherInfo)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetNowAirQuality() {\n\t\t\tlet that = this\n\t\t\tlet url = 'https://free-api.heweather.net/s6/air/now?location=' + this.lngLat + '&key=' + app.globalData.key\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.airInfo = res.data.HeWeather6[0]\n\t\t\t\t\tconsole.log('air quality:', that.airInfo)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetHourlyWeather() {\n\t\t\tlet that = this\n\t\t\tlet url = 'https://free-api.heweather.net/s6/weather/hourly?location=' + this.lngLat + '&key=' + app.globalData.key\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.hourlyArr = res.data.HeWeather6[0].hourly\n\t\t\t\t\tconsole.log('hourlyArr:', that.hourlyArr)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetForecastWeather() {\n\t\t\tlet that = this\n\t\t\tlet url = 'https://free-api.heweather.net/s6/weather/forecast?location=' + this.lngLat + '&key=' + app.globalData.key\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.forecastArr = res.data.HeWeather6[0].daily_forecast\n\t\t\t\t\tconsole.log('forecastArr:', that.forecastArr)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetLifestyle() {\n\t\t\tlet that = this\n\t\t\tlet url = 'https://free-api.heweather.net/s6/weather/lifestyle?location=' + this.lngLat + '&key=' + app.globalData.key\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tthat.lifestyleArr = res.data.HeWeather6[0].lifestyle\n\t\t\t\t\tconsole.log('lifestyle:', that.lifestyleArr)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tchangeCity() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../city/city\"\n\t\t\t})\n\t\t},\n\t\tshowModal(txt) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '温馨提示',\n\t\t\t\tcontent: txt,\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: '知道了',\n\t\t\t\tconfirmColor: '#7dbbfa',\n\t\t\t\tsuccess: function(res) {}\n\t\t\t});\n\t\t},\n\t\t// 订阅消息\n\t\tsubscribeMsg() {\n\t\t\tlet that = this\n\t\t\tlet tmplId = 'dj1cnpHivaE8MPHXlbCEnG5iz4-dN-a90xMyU9p-0uY'\n\t\t\twx.requestSubscribeMessage({\n\t\t\t\ttmplIds: [tmplId],\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res[tmplId] == 'accept') {\n\t\t\t\t\t\tthat.cloudSendMsg();\n\t\t\t\t\t} else if (res[tmplId] == 'reject') { // 用户拒绝授权\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\tcontent: \"您已关闭消息推送，如需要消息推送服务，请点击确定跳转设置页面打开授权后再次尝试。\",\n\t\t\t\t\t\t\tsuccess: function(modal) {\n\t\t\t\t\t\t\t\tif (modal.confirm) { // 点击确定\n\t\t\t\t\t\t\t\t\twx.openSetting({\n\t\t\t\t\t\t\t\t\t\twithSubscriptions: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tif (err.errCode == '20004') {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\tcontent: \"您的消息订阅主开关已关闭，如需要消息推送服务，请点击确定跳转设置页面打开授权后再次尝试。\",\n\t\t\t\t\t\t\tsuccess: function(modal) {\n\t\t\t\t\t\t\t\tif (modal.confirm) { // 点击确定\n\t\t\t\t\t\t\t\t\twx.openSetting({\n\t\t\t\t\t\t\t\t\t\twithSubscriptions: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetDate(timestamp) {\n\t\t\tlet date = new Date(timestamp)\n\t\t\tlet year = date.getFullYear()\n\t\t\tlet month = date.getMonth() + 1\n\t\t\tlet day = date.getDate()\n\t\t\tif (month < 10) {\n\t\t\t\tmonth = '0' + month\n\t\t\t}\n\t\t\tif (day < 10) {\n\t\t\t\tday = '0' + day\n\t\t\t}\n\t\t\treturn year + '年' + month + '月' + day + '日';\n\t\t},\n\t\t// 云函数-消息推送\n\t\tcloudSendMsg() {\n\t\t\tlet that = this\n\t\t\tlet todayW = this.forecastArr[0]\n\t\t\tlet lifestyle = this.lifestyleArr\n\t\t\tlet tip = ''\n\t\t\tlet fl = this.weatherInfo.now.fl ? '体感温度' + this.weatherInfo.now.fl + '°C，' : ''\n\t\t\tlet comf = ''\n\t\t\tlet flu = ''\n\t\t\tlifestyle.forEach(item => {\n\t\t\t\tif (item.type == 'comf') {\n\t\t\t\t\tcomf = item.brf + '，'\n\t\t\t\t}\n\t\t\t\tif (item.type == 'flu') {\n\t\t\t\t\tflu = '感冒' + item.brf + '。'\n\t\t\t\t}\n\t\t\t})\n\t\t\ttip = fl + comf + flu\n\t\t\twx.cloud.callFunction({\n\t\t\t\tname: 'sendMsg',\n\t\t\t\tdata: {\n\t\t\t\t\tdate: that.getDate(new Date().getTime()),\n\t\t\t\t\tlocation: that.weatherInfo.basic.location,\n\t\t\t\t\tcond_txt: that.weatherInfo.now.cond_txt,\n\t\t\t\t\ttmp: todayW.tmp_min + '~' + todayW.tmp_max + '°C',\n\t\t\t\t\ttip: tip\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log('cloud res:', res)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log('err:', err)\n\t\t\t})\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589427672790\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./utils.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fliuyao%2Fother%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%3AVue%2FweatherReport%2Fpages%2Findex%2Findex.vue&module=utils&lang=wxs\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./utils.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fliuyao%2Fother%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%3AVue%2FweatherReport%2Fpages%2Findex%2Findex.vue&module=utils&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}