<wxs src="../../utils.wxs" module="utils"></wxs>
<view class="_div"><block wx:if="{{$root.g0!='{}'}}"><view class="top _div"><view data-event-opts="{{[['tap',[['subscribeMsg',['$event']]]]]}}" class="push-msg _div" bindtap="__e"><image class="icon-push" src="../../static/images/icon/icon-push.png" mode></image>推送天气信息</view><view data-event-opts="{{[['tap',[['changeCity',['$event']]]]]}}" class="flex-row center _div" bindtap="__e"><image class="icon-location" src="../../static/images/icon/icon-location-f.png" mode></image><view class="font-30 font-fff mg_lt_20 w-text _div">{{''+weatherInfo.basic.location+''}}</view><image class="icon-arrow mg_lt_10" src="../../static/images/icon/arrow-right.png" mode></image></view><view class="weather-box font-fff font-30 font-thin mg_tp_20 text-center _div"><view class="font-100 _div">{{''+weatherInfo.now.tmp+'°C'}}</view><view class="_div">{{''+weatherInfo.now.cond_txt+' |'}}<label class="mg_lt_20 _span">{{"空气质量："+(airInfo.air_now_city.qlty?airInfo.air_now_city.qlty:'--')}}</label></view><view class="mg_tp_10 _div">{{''+weatherInfo.now.wind_dir+weatherInfo.now.wind_sc+"级 湿度："+weatherInfo.now.hum+''}}</view></view></view></block><block wx:if="{{hourlyArr.length>0}}"><scroll-view class="hourly-box" scroll-x="true"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__"><view class="hourly-item _div"><view class="font-999 _div">{{item.g1}}</view><image class="icon-weather mg_tp_10" src="{{utils.weatherIcon(item.$orig.cond_txt)}}" mode></image><view class="font-666 _div">{{item.$orig.cond_txt+" | "+item.$orig.tmp+"°C"}}</view></view></block></scroll-view></block><block wx:if="{{forecastArr.length>0}}"><view class="forecast-box _div"><view class="forecast-box-title _div">7天预报</view><block wx:if="{{forecastArr.length>0}}"><scroll-view class="forecast-scroll-box" scroll-x="true"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="__i1__"><view class="forecast-item _div"><view class="font-999 _div">{{item.g2}}</view><view class="font-666 mg_tp_10 _div">{{item.$orig.tmp_max+"°C / "+item.$orig.tmp_min+"°C"}}</view><view class="font-666 mg_tp_10 _div">{{item.$orig.cond_txt_d}}</view><image class="forecast-icon" src="{{'../../static/images/cond-icon-heweather/'+item.$orig.cond_code_d+'.png'}}" mode></image><view class="line-v _div"></view><block wx:if="{{item.$orig.cond_code_n==(100||103||104||300||301||406||407)}}"><image class="forecast-icon" src="{{'../../static/images/cond-icon-heweather/'+item.$orig.cond_code_n+'n.png'}}" mode></image></block><block wx:else><image class="forecast-icon" src="{{'../../static/images/cond-icon-heweather/'+item.$orig.cond_code_n+'.png'}}" mode></image></block><view class="font-666 mg_tp_10 _div">{{item.$orig.cond_txt_n}}</view></view></block></scroll-view></block></view></block><block wx:if="{{$root.g3!='{}'&&lifestyleArr.length>0}}"><view class="forecast-box _div"><view class="forecast-box-title _div">生活指数</view><view class="wrap _div"><view class="lifestyle-item _div"><image class="lifestyle-icon" src="../../static/images/lifestyle/fl.png" mode></image><view class="font-999 _div">体感温度</view><view class="font-666 mg_tp_10 _div">{{(weatherInfo.now.fl?weatherInfo.now.fl:'--')+"°C"}}</view></view><block wx:for="{{lifestyleArr}}" wx:for-item="item" wx:for-index="__i2__"><view data-event-opts="{{[['tap',[['showModal',['$0'],[[['lifestyleArr','',__i2__,'txt']]]]]]]}}" class="lifestyle-item _div" bindtap="__e"><image class="lifestyle-icon" src="{{'../../static/images/lifestyle/'+item.type+'.png'}}" mode></image><view class="font-999 _div">{{utils.lifestyleIcon(item.type).name}}</view><view class="font-666 mg_tp_10 _div">{{item.brf}}</view></view></block></view></view></block></view>